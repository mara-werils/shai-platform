import { CodeGroup } from '../code.tsx'
import { Row, Col, Properties, Property, Heading, SubProperty, Paragraph } from '../md.tsx'

# API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Workflow

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è Workflow –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –±–µ–∑ —Å–µ—Å—Å–∏–π –∏ –∏–¥–µ–∞–ª—å–Ω—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞, –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π, AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏ –º–Ω–æ–≥–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ.

<div>
  ### –ë–∞–∑–æ–≤—ã–π URL
  <CodeGroup title="Code" targetCode={props.appDetail.api_base_url}>
    ```javascript
    ```
  </CodeGroup>

  ### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

  API —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ `API-Key`.
  <i>**–ù–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –≤–∞—à API-–∫–ª—é—á –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ–π —É—Ç–µ—á–∫–∏ API-–∫–ª—é—á–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–µ—Ä—å–µ–∑–Ω—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º.**</i>

  –î–ª—è –≤—Å–µ—Ö API-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤–∫–ª—é—á–∏—Ç–µ –≤–∞—à API-–∫–ª—é—á –≤ HTTP-–∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ:

  <CodeGroup title="Code">
    ```javascript
      Authorization: Bearer {API_KEY}

    ```
  </CodeGroup>
</div>

---

<Heading
  url='/workflows/run'
  method='POST'
  title='–í—ã–ø–æ–ª–Ω–∏—Ç—å Workflow'
  name='#Execute-Workflow'
/>
<Row>
  <Col>
    –í—ã–ø–æ–ª–Ω–∏—Ç—å workflow, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω –±–µ–∑ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–≥–æ workflow.

    ### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
      - `inputs` (object) –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
        –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–æ–¥–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.
        –ü–∞—Ä–∞–º–µ—Ç—Ä `inputs` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ, –≥–¥–µ –∫–∞–∂–¥—ã–π –∫–ª—é—á —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∞ –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –¥–ª—è —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
        –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ workflow —Ç—Ä–µ–±—É–µ—Ç –≤–≤–æ–¥–∞ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–π –ø–∞—Ä—ã –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∏–ø–∞ File Array.
        –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–∏–ø–∞ File Array –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–≤–æ–¥–∞ —Ñ–∞–π–ª–æ–≤ –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤.
        –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–º–µ–µ—Ç —Ç–∏–ø File Array, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–ø–∏—Å–∫–æ–º, —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã: 
          - `type` (string) –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ç–∏–ø: 
            - `document` ('TXT', 'MD', 'MARKDOWN', 'PDF', 'HTML', 'XLSX', 'XLS', 'DOCX', 'CSV', 'EML', 'MSG', 'PPTX', 'PPT', 'XML', 'EPUB')
            - `image` ('JPG', 'JPEG', 'PNG', 'GIF', 'WEBP', 'SVG')
            - `audio` ('MP3', 'M4A', 'WAV', 'WEBM', 'AMR')
            - `video` ('MP4', 'MOV', 'MPEG', 'MPGA')
            - `custom` (–î—Ä—É–≥–∏–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤)
          - `transfer_method` (string) –°–ø–æ—Å–æ–± –ø–µ—Ä–µ–¥–∞—á–∏, `remote_url` –¥–ª—è URL —Ñ–∞–π–ª–∞ / `local_file` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
          - `url` (string) URL —Ñ–∞–π–ª–∞ (–∫–æ–≥–¥–∞ —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–¥–∞—á–∏ - `remote_url`)
          - `upload_file_id` (string) ID –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω –ø—É—Ç–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ API –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ (–∫–æ–≥–¥–∞ —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–¥–∞—á–∏ - `local_file`)

      - `response_mode` (string) –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
        –†–µ–∂–∏–º –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
        - `streaming` –†–µ–∂–∏–º –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è), —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—ã–≤–æ–¥ –≤ —Å—Ç–∏–ª–µ –ø–µ—á–∞—Ç–Ω–æ–π –º–∞—à–∏–Ω–∫–∏ —á–µ—Ä–µ–∑ SSE ([Server-Sent Events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events)).
        - `blocking` –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. (–ó–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω—ã, –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π)
        <i>–ò–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π Cloudflare –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –ø—Ä–µ—Ä–≤–∞–Ω –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ —á–µ—Ä–µ–∑ 100 —Å–µ–∫—É–Ω–¥.</i>
      - `user` (string) –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
        –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
        –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

    ### –û—Ç–≤–µ—Ç
    –ö–æ–≥–¥–∞ `response_mode` —Ä–∞–≤–µ–Ω `blocking`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç CompletionResponse.
    –ö–æ–≥–¥–∞ `response_mode` —Ä–∞–≤–µ–Ω `streaming`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Ç–æ–∫ ChunkCompletionResponse.

    ### CompletionResponse
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, `Content-Type` - `application/json`.
    - `workflow_run_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
    - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ API –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∏–∂–µ
    - `data` (object) –¥–µ—Ç–∞–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
      - `id` (string) ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
      - `workflow_id` (string) ID —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ workflow
      - `status` (string) —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, `running` / `succeeded` / `failed` / `stopped`
      - `outputs` (json) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—ã–≤–æ–¥–∞
      - `error` (string) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
      - `elapsed_time` (float) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ
      - `total_tokens` (int) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
      - `total_steps` (int) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0
      - `created_at` (timestamp) –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
      - `finished_at` (timestamp) –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è

    ### ChunkCompletionResponse
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ—Ç–æ–∫–∞, –≤—ã–≤–æ–¥–∏–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, `Content-Type` - `text/event-stream`.
    –ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫–æ–≤—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `data:`, —Ä–∞–∑–¥–µ–ª–µ–Ω –¥–≤—É–º—è —Å–∏–º–≤–æ–ª–∞–º–∏ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ `\n\n`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ:
    <CodeGroup>
    ```streaming {{ title: 'Response' }}
    data: {"event": "text_chunk", "workflow_run_id": "b85e5fc5-751b-454d-b14e-dc5f240b0a31", "task_id": "bd029338-b068-4d34-a331-fc85478922c2", "data": {"text": "\u4e3a\u4e86", "from_variable_selector": ["1745912968134", "text"]}}\n\n
    ```
    </CodeGroup>
    –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Ç–æ–∫–æ–≤—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `event`:
    - `event: workflow_started` workflow –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
      - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ API –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∏–∂–µ
      - `workflow_run_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
      - `event` (string) —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ `workflow_started`
      - `data` (object) –¥–µ—Ç–∞–ª–∏
        - `id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
        - `workflow_id` (string) ID —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ workflow
        - `sequence_number` (int) –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–π —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä, –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –Ω–∞—á–∏–Ω–∞—è —Å 1
        - `created_at` (timestamp) –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, 1705395332
    - `event: node_started` –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É–∑–ª–∞ –Ω–∞—á–∞–ª–æ—Å—å
      - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ API –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∏–∂–µ
      - `workflow_run_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
      - `event` (string) —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ `node_started`
      - `data` (object) –¥–µ—Ç–∞–ª–∏
        - `id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
        - `node_id` (string) ID —É–∑–ª–∞
        - `node_type` (string) —Ç–∏–ø —É–∑–ª–∞
        - `title` (string) –∏–º—è —É–∑–ª–∞
        - `index` (int) –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É–∑–ª–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
        - `predecessor_node_id` (string) –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ ID —É–∑–ª–∞-–ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Ö–æ–ª—Å—Ç–µ
        - `inputs` (object) –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É—é—â–∏—Ö —É–∑–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ —É–∑–ª–µ
        - `created_at` (timestamp) –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, 1705395332
    - `event: text_chunk` –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç  
      - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ API –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∏–∂–µ 
      - `workflow_run_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow 
      - `event` (string) —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ `text_chunk`
      - `data` (object) –¥–µ—Ç–∞–ª–∏
        - `text` (string) –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        - `from_variable_selector` (array) –ü—É—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Ç–µ–∫—Å—Ç–∞, –ø–æ–º–æ–≥–∞—é—â–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π —É–∑–µ–ª –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∏ —Ç–µ–∫—Å—Ç
    - `event: node_finished` –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É–∑–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, —É—Å–ø–µ—Ö –∏–ª–∏ –Ω–µ—É–¥–∞—á–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –≤ –æ–¥–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏
      - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ API –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∏–∂–µ
      - `workflow_run_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
      - `event` (string) —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ `node_finished`
      - `data` (object) –¥–µ—Ç–∞–ª–∏
        - `id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
        - `node_id` (string) ID —É–∑–ª–∞
        - `node_type` (string) —Ç–∏–ø —É–∑–ª–∞
        - `title` (string) –∏–º—è —É–∑–ª–∞
        - `index` (int) –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É–∑–ª–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
        - `predecessor_node_id` (string) –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ ID —É–∑–ª–∞-–ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Ö–æ–ª—Å—Ç–µ
        - `inputs` (object) –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É—é—â–∏—Ö —É–∑–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ —É–∑–ª–µ
        - `process_data` (json) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —É–∑–ª–∞
        - `outputs` (json) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—ã–≤–æ–¥–∞
        - `status` (string) —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, `running` / `succeeded` / `failed` / `stopped`
        - `error` (string) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
        - `elapsed_time` (float) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ
        - `execution_metadata` (json) –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
          - `total_tokens` (int) –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
          - `total_price` (decimal) –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
          - `currency` (string) –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø—Ä–∏–º–µ—Ä `USD` / `RMB`
        - `created_at` (timestamp) –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, 1705395332
    - `event: workflow_finished` –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ workflow –∑–∞–≤–µ—Ä—à–µ–Ω–æ, —É—Å–ø–µ—Ö –∏–ª–∏ –Ω–µ—É–¥–∞—á–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –≤ –æ–¥–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏
      - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ API –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∏–∂–µ
      - `workflow_run_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
      - `event` (string) —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ `workflow_finished`
      - `data` (object) –¥–µ—Ç–∞–ª–∏
        - `id` (string) ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow
        - `workflow_id` (string) ID —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ workflow
        - `status` (string) —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, `running` / `succeeded` / `failed` / `stopped`
        - `outputs` (json) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—ã–≤–æ–¥–∞
        - `error` (string) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
        - `elapsed_time` (float) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ
        - `total_tokens` (int) –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
        - `total_steps` (int) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0
        - `created_at` (timestamp) –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
        - `finished_at` (timestamp) –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
    - `event: tts_message` –°–æ–±—ã—Ç–∏–µ –∞—É–¥–∏–æ–ø–æ—Ç–æ–∫–∞ TTS, —Ç–æ –µ—Å—Ç—å –≤—ã–≤–æ–¥ —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∞—É–¥–∏–æ–±–ª–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Mp3, –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ base64. –ü—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ –ø—Ä–æ—Å—Ç–æ –¥–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ base64 –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –µ–≥–æ –≤ –ø–ª–µ–µ—Ä. (–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏)
      - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –Ω–∏–∂–µ
      - `message_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–æ–æ–±—â–µ–Ω–∏—è
      - `audio` (string) –ê—É–¥–∏–æ –ø–æ—Å–ª–µ —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏, –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–º base64, –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ –ø—Ä–æ—Å—Ç–æ –¥–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ base64 –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –µ–≥–æ –≤ –ø–ª–µ–µ—Ä
      - `created_at` (int) –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä: 1705395332
    - `event: tts_message_end` –°–æ–±—ã—Ç–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞—É–¥–∏–æ–ø–æ—Ç–æ–∫–∞ TTS, –ø–æ–ª—É—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∞—É–¥–∏–æ–ø–æ—Ç–æ–∫–∞.
      - `task_id` (string) ID –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –Ω–∏–∂–µ
      - `message_id` (string) –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–æ–æ–±—â–µ–Ω–∏—è
      - `audio` (string) –°–æ–±—ã—Ç–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –∏–º–µ–µ—Ç –∞—É–¥–∏–æ, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
      - `created_at` (int) –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä: 1705395332
    - `event: ping` –°–æ–±—ã—Ç–∏–µ ping –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã–º.

    ### –û—à–∏–±–∫–∏
    - 400, `invalid_param`, abnormal parameter input
    - 400, `app_unavailable`, App configuration unavailable
    - 400, `provider_not_initialize`, no available model credential configuration
    - 400, `provider_quota_exceeded`, model invocation quota insufficient
    - 400, `model_currently_not_support`, current model unavailable
    - 400, `workflow_request_error`, workflow execution failed
    - 500, internal server error

  </Col>
  <Col sticky>
     <CodeGroup title="–ó–∞–ø—Ä–æ—Å" tag="POST" label="/workflows/run" targetCode={`curl -X POST '${props.appDetail.api_base_url}/workflows/run' \\\n--header 'Authorization: Bearer {api_key}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    "inputs": ${JSON.stringify(props.inputs)},\n    "response_mode": "streaming",\n    "user": "abc-123"\n}'\n`}>

    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/workflows/run' \
    --header 'Authorization: Bearer {api_key}' \
    --header 'Content-Type: application/json' \
    --data-raw '{
        "inputs": {},
        "response_mode": "streaming",
        "user": "abc-123"
    }'
    ```

    </CodeGroup>
    <CodeGroup title="Example: file array as an input variable">
      ```json {{ title: 'File variable example' }}
      {
        "inputs": {
          "{variable_name}": 
          [
            {
            "transfer_method": "local_file",
            "upload_file_id": "{upload_file_id}",
            "type": "{document_type}"
            }
          ]
        }
      }
      ```
    </CodeGroup>
    ### –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º
    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```json {{ title: 'Response' }}
    {
        "workflow_run_id": "djflajgkldjgd",
        "task_id": "9da23599-e713-473b-982c-4328d4f5c78a",
        "data": {
            "id": "fdlsjfjejkghjda",
            "workflow_id": "fldjaslkfjlsda",
            "status": "succeeded",
            "outputs": {
              "text": "Nice to meet you."
            },
            "error": null,
            "elapsed_time": 0.875,
            "total_tokens": 3562,
            "total_steps": 8,
            "created_at": 1705407629,
            "finished_at": 1727807631
        }
    }
    ```
    </CodeGroup>
    ### –†–µ–∂–∏–º –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```streaming {{ title: 'Response' }}
      data: {"event": "workflow_started", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "workflow_id": "dfjasklfjdslag", "sequence_number": 1, "created_at": 1679586595}}
      data: {"event": "node_started", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "node_id": "dfjasklfjdslag", "node_type": "start", "title": "Start", "index": 0, "predecessor_node_id": "fdljewklfklgejlglsd", "inputs": {}, "created_at": 1679586595}}
      data: {"event": "node_finished", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "node_id": "dfjasklfjdslag", "node_type": "start", "title": "Start", "index": 0, "predecessor_node_id": "fdljewklfklgejlglsd", "inputs": {}, "outputs": {}, "status": "succeeded", "elapsed_time": 0.324, "execution_metadata": {"total_tokens": 63127864, "total_price": 2.378, "currency": "USD"},  "created_at": 1679586595}}
      data: {"event": "workflow_finished", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "workflow_id": "dfjasklfjdslag", "outputs": {}, "status": "succeeded", "elapsed_time": 0.324, "total_tokens": 63127864, "total_steps": "1", "created_at": 1679586595, "finished_at": 1679976595}}
      data: {"event": "tts_message", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": "qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}
      data: {"event": "tts_message_end", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": ""}
    ```
    </CodeGroup>
    <CodeGroup title="File upload sample code">
      ```json {{ title: 'File upload sample code' }}
      import requests
      import json

      def upload_file(file_path, user):
          upload_url = "https://api.shai.ai/v1/files/upload"
          headers = {
              "Authorization": "Bearer app-xxxxxxxx",
          }
          
          try:
              print("Upload file...")
              with open(file_path, 'rb') as file:
                  files = {
                      'file': (file_path, file, 'text/plain')  # Make sure the file is uploaded with the appropriate MIME type
                  }
                  data = {
                      "user": user,
                      "type": "TXT"  # Set the file type to TXT
                  }
                  
                  response = requests.post(upload_url, headers=headers, files=files, data=data)
                  if response.status_code == 201:  # 201 means creation is successful
                      print("File uploaded successfully")
                      return response.json().get("id")  # Get the uploaded file ID
                  else:
                      print(f"File upload failed, status code: {response.status_code}")
                      return None
          except Exception as e:
              print(f"Error occurred: {str(e)}")
              return None

      def run_workflow(file_id, user, response_mode="blocking"):
          workflow_url = "https://api.shai.ai/v1/workflows/run"
          headers = {
              "Authorization": "Bearer app-xxxxxxxxx",
              "Content-Type": "application/json"
          }

          data = {
              "inputs": {
                  "orig_mail": [{
                      "transfer_method": "local_file",
                      "upload_file_id": file_id,
                      "type": "document"
                  }]
              },
              "response_mode": response_mode,
              "user": user
          }

          try:
              print("Run Workflow...")
              response = requests.post(workflow_url, headers=headers, json=data)
              if response.status_code == 200:
                  print("Workflow execution successful")
                  return response.json()
              else:
                  print(f"Workflow execution failed, status code: {response.status_code}")
                  return {"status": "error", "message": f"Failed to execute workflow, status code: {response.status_code}"}
          except Exception as e:
              print(f"Error occurred: {str(e)}")
              return {"status": "error", "message": str(e)}

      # Usage Examples
      file_path = "{your_file_path}"
      user = "shaiuser"

      # Upload files
      file_id = upload_file(file_path, user)
      if file_id:
          # The file was uploaded successfully, and the workflow continues to run
          result = run_workflow(file_id, user)
          print(result)
      else:
          print("File upload failed and workflow cannot be executed")
      ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/workflows/run/:workflow_id'
  method='GET'
  title='–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Workflow'
  name='#get-workflow-run-detail'
/>
<Row>
  <Col>
    –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ workflow –Ω–∞ –æ—Å–Ω–æ–≤–µ ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow.
    ### –ü—É—Ç—å
    - `workflow_id` (string) Workflow ID, can be obtained from the streaming chunk return
    ### –û—Ç–≤–µ—Ç
    - `id` (string) ID of workflow execution
    - `workflow_id` (string) ID of related workflow
    - `status` (string) status of execution, `running` / `succeeded` / `failed` / `stopped`
    - `inputs` (json) content of input
    - `outputs` (json) content of output
    - `error` (string) reason of error
    - `total_steps` (int) total steps of task
    - `total_tokens` (int) total tokens to be used
    - `created_at` (timestamp) start time
    - `finished_at` (timestamp) end time
    - `elapsed_time` (float) total seconds to be used
  </Col>
  <Col sticky>
    ### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
    <CodeGroup title="–ó–∞–ø—Ä–æ—Å" tag="GET" label="/workflows/run/:workflow_id" targetCode={`curl -X GET '${props.appDetail.api_base_url}/workflows/run/:workflow_id' \\\n-H 'Authorization: Bearer {api_key}' \\\n-H 'Content-Type: application/json'`}>
      ```bash {{ title: 'cURL' }}
      curl -X GET '${props.appDetail.api_base_url}/workflows/run/:workflow_id' \
      -H 'Authorization: Bearer {api_key}' \
      -H 'Content-Type: application/json'
      ```
    </CodeGroup>

    ### –û—Ç–≤–µ—Ç Example
    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```json {{ title: 'Response' }}
    {
        "id": "b1ad3277-089e-42c6-9dff-6820d94fbc76",
        "workflow_id": "19eff89f-ec03-4f75-b0fc-897e7effea02",
        "status": "succeeded",
        "inputs": "{\"sys.files\": [], \"sys.user_id\": \"abc-123\"}",
        "outputs": null,
        "error": null,
        "total_steps": 3,
        "total_tokens": 0,
        "created_at": 1705407629,
        "finished_at": 1727807631,
        "elapsed_time": 30.098514399956912
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/workflows/tasks/:task_id/stop'
  method='POST'
  title='–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é'
  name='#stop-generatebacks'
/>
<Row>
  <Col>
  –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏.
  ### –ü—É—Ç—å
  - `task_id` (string) Task ID, can be obtained from the streaming chunk return
  ### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
  - `user` (string) Required
    User identifier, used to define the identity of the end-user, must be consistent with the user passed in the send message interface.
  ### –û—Ç–≤–µ—Ç
  - `result` (string) Always returns "success"
  </Col>
  <Col sticky>
  ### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
  <CodeGroup title="Request" tag="POST" label="/workflows/tasks/:task_id/stop" targetCode={`curl -X POST '${props.appDetail.api_base_url}/workflows/tasks/:task_id/stop' \\\n-H 'Authorization: Bearer {api_key}' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{"user": "abc-123"}'`}>
    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/workflows/tasks/:task_id/stop' \
    -H 'Authorization: Bearer {api_key}' \
    -H 'Content-Type: application/json' \
    --data-raw '{
        "user": "abc-123"
    }'
    ```
    </CodeGroup>

    ### –û—Ç–≤–µ—Ç Example
    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```json {{ title: 'Response' }}
    {
      "result": "success"
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/files/upload'
  method='POST'
  title='–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞'
  name='#file-upload'
/>
<Row>
  <Col>
  –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ç–µ–∫—Å—Ç–∞.
  Supports any formats that are supported by your workflow.
  Uploaded files are for use by the current end-user only.

  ### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
  This interface requires a `multipart/form-data` request.
  - `file` (File) Required
    The file to be uploaded.
  - `user` (string) Required
    User identifier, defined by the developer's rules, must be unique within the application.

  ### –û—Ç–≤–µ—Ç
  After a successful upload, the server will return the file's ID and related information.
  - `id` (uuid) ID
  - `name` (string) File name
  - `size` (int) File size (bytes)
  - `extension` (string) File extension
  - `mime_type` (string) File mime-type
  - `created_by` (uuid) End-user ID
  - `created_at` (timestamp) Creation timestamp, e.g., 1705395332

  ### –û—à–∏–±–∫–∏
  - 400, `no_file_uploaded`, a file must be provided
  - 400, `too_many_files`, currently only one file is accepted
  - 400, `unsupported_preview`, the file does not support preview
  - 400, `unsupported_estimate`, the file does not support estimation
  - 413, `file_too_large`, the file is too large
  - 415, `unsupported_file_type`, unsupported extension, currently only document files are accepted
  - 503, `s3_connection_failed`, unable to connect to S3 service
  - 503, `s3_permission_denied`, no permission to upload files to S3
  - 503, `s3_file_too_large`, file exceeds S3 size limit
  - 500, internal server error


  </Col>
  <Col sticky>
  ### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
  <CodeGroup title="Request" tag="POST" label="/files/upload" targetCode={`curl -X POST '${props.appDetail.api_base_url}/files/upload' \\\n--header 'Authorization: Bearer {api_key}' \\\n--form 'file=@localfile;type=image/[png|jpeg|jpg|webp|gif]' \\\n--form 'user=abc-123'`}>

    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/files/upload' \
    --header 'Authorization: Bearer {api_key}' \
    --form 'file=@"/path/to/file"'
    ```

    </CodeGroup>


  ### –û—Ç–≤–µ—Ç Example
  <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "id": "72fa9618-8f89-4a37-9b33-7e1178a24a67",
      "name": "example.png",
      "size": 1024,
      "extension": "png",
      "mime_type": "image/png",
      "created_by": "6ad1ab0a-73ff-4ac1-b9e4-cdb312f71f13",
      "created_at": 1577836800,
    }
  ```
  </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/workflows/logs'
  method='GET'
  title='–ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ Workflow'
  name='#Get-Workflow-Logs'
/>
<Row>
  <Col>
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∏ workflow, –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ `{limit}` —Å–æ–æ–±—â–µ–Ω–∏–π, —Ç.–µ. –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

    ### –ó–∞–ø—Ä–æ—Å

    <Properties>
      <Property name='keyword' type='string' key='keyword'>
        Keyword to search
      </Property>
      <Property name='status' type='string' key='status'>
        succeeded/failed/stopped
      </Property>
      <Property name='page' type='int' key='page'>
        current page, default is 1.
      </Property>
      <Property name='limit' type='int' key='limit'>
          How many chat history messages to return in one request, default is 20.
      </Property>
    </Properties>

    ### –û—Ç–≤–µ—Ç
  - `page` (int) Current page
  - `limit` (int) Number of returned items, if input exceeds system limit, returns system limit amount
  - `total` (int) Number of total items
  - `has_more` (bool) Whether there is a next page
  - `data` (array[object]) Log list
    - `id` (string) ID
    - `workflow_run` (object) Workflow run
      - `id` (string) ID
      - `version` (string) Version
      - `status` (string) status of execution, `running` / `succeeded` / `failed` / `stopped`
      - `error` (string) Optional reason of error
      - `elapsed_time` (float) total seconds to be used
      - `total_tokens` (int) tokens to be used
      - `total_steps` (int) default 0
      - `created_at` (timestamp) start time
      - `finished_at` (timestamp) end time
    - `created_from` (string) Created from
    - `created_by_role` (string) Created by role
    - `created_by_account` (string) Optional Created by account
    - `created_by_end_user` (object) Created by end user
      - `id` (string) ID
      - `type` (string) Type
      - `is_anonymous` (bool) Is anonymous
      - `session_id` (string) Session ID
    - `created_at` (timestamp) create time
  </Col>
  <Col sticky>

    <CodeGroup title="–ó–∞–ø—Ä–æ—Å" tag="GET" label="/workflows/logs" targetCode={`curl -X GET '${props.appDetail.api_base_url}/workflows/logs'\\\n --header 'Authorization: Bearer {api_key}'`}>

    ```bash {{ title: 'cURL' }}
    curl -X GET '${props.appDetail.api_base_url}/workflows/logs?limit=1'
    --header 'Authorization: Bearer {api_key}'
    ```

    </CodeGroup>
    ### –û—Ç–≤–µ—Ç Example
    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```json {{ title: 'Response' }}
    {
        "page": 1,
        "limit": 1,
        "total": 7,
        "has_more": true,
        "data": [
            {
                "id": "e41b93f1-7ca2-40fd-b3a8-999aeb499cc0",
                "workflow_run": {
                    "id": "c0640fc8-03ef-4481-a96c-8a13b732a36e",
                    "version": "2024-08-01 12:17:09.771832",
                    "status": "succeeded",
                    "error": null,
                    "elapsed_time": 1.3588523610014818,
                    "total_tokens": 0,
                    "total_steps": 3,
                    "created_at": 1726139643,
                    "finished_at": 1726139644
                },
                "created_from": "service-api",
                "created_by_role": "end_user",
                "created_by_account": null,
                "created_by_end_user": {
                    "id": "7f7d9117-dd9d-441d-8970-87e5e7e687a3",
                    "type": "service_api",
                    "is_anonymous": false,
                    "session_id": "abc-123"
                },
                "created_at": 1726139644
            }
        ]
    }
    ```
    </CodeGroup>
  </Col>
</Row>
---

<Heading
  url='/info'
  method='GET'
  title='–ü–æ–ª—É—á–∏—Ç—å –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏'
  name='#info'
/>
<Row>
  <Col>
  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —ç—Ç–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

  ### –û—Ç–≤–µ—Ç
  - `name` (string) application name
  - `description` (string) application description
  - `tags` (array[string]) application tags
  </Col>
  <Col>
    <CodeGroup title="–ó–∞–ø—Ä–æ—Å" tag="GET" label="/info" targetCode={`curl -X GET '${props.appDetail.api_base_url}/info' \\\n-H 'Authorization: Bearer {api_key}'`}>
      ```bash {{ title: 'cURL' }}
      curl -X GET '${props.appDetail.api_base_url}/info' \
      -H 'Authorization: Bearer {api_key}'
      ```
    </CodeGroup>
    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```json {{ title: 'Response' }}
    {
      "name": "My App",
      "description": "This is my app.",
      "tags": [
        "tag1",
        "tag2"
      ]
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/parameters'
  method='GET'
  title='–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è'
  name='#parameters'
/>
<Row>
  <Col>
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö, –∏–º–µ–Ω–∞—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–∏–ø–∞—Ö –∏ –∑–Ω–∞—á–µ–Ω–∏—è—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

    ### –û—Ç–≤–µ—Ç
    - `user_input_form` (array[object]) User input form configuration
      - `text-input` (object) Text input control
        - `label` (string) Variable display label name
        - `variable` (string) Variable ID
        - `required` (bool) Whether it is required
        - `default` (string) Default value
      - `paragraph` (object) Paragraph text input control
        - `label` (string) Variable display label name
        - `variable` (string) Variable ID
        - `required` (bool) Whether it is required
        - `default` (string) Default value
      - `select` (object) Dropdown control
        - `label` (string) Variable display label name
        - `variable` (string) Variable ID
        - `required` (bool) Whether it is required
        - `default` (string) Default value
        - `options` (array[string]) Option values
    - `file_upload` (object) File upload configuration
      - `image` (object) Image settings
        Currently only supports image types: `png`, `jpg`, `jpeg`, `webp`, `gif`
        - `enabled` (bool) Whether it is enabled
        - `number_limits` (int) Image number limit, default is 3
        - `transfer_methods` (array[string]) List of transfer methods, remote_url, local_file, must choose one
    - `system_parameters` (object) System parameters
      - `file_size_limit` (int) Document upload size limit (MB)
      - `image_file_size_limit` (int) Image file upload size limit (MB)
      - `audio_file_size_limit` (int) Audio file upload size limit (MB)
      - `video_file_size_limit` (int) Video file upload size limit (MB)

  </Col>
  <Col sticky>

    <CodeGroup title="–ó–∞–ø—Ä–æ—Å" tag="GET" label="/parameters" targetCode={` curl -X GET '${props.appDetail.api_base_url}/parameters'`}>

    ```bash {{ title: 'cURL' }}
    curl -X GET '${props.appDetail.api_base_url}/parameters' \
    --header 'Authorization: Bearer {api_key}'
    ```

    </CodeGroup>

    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```json {{ title: 'Response' }}
    {
      "user_input_form": [
          {
              "paragraph": {
                  "label": "Query",
                  "variable": "query",
                  "required": true,
                  "default": ""
              }
          }
      ],
      "file_upload": {
          "image": {
              "enabled": false,
              "number_limits": 3,
              "detail": "high",
              "transfer_methods": [
                  "remote_url",
                  "local_file"
              ]
          }
      },
      "system_parameters": {
          "file_size_limit": 15,
          "image_file_size_limit": 10,
          "audio_file_size_limit": 50,
          "video_file_size_limit": 100
      }
    }
    ```
    </CodeGroup>
  </Col>
</Row>
---

<Heading
  url='/site'
  method='GET'
  title='Get Application WebApp Settings'
  name='#site'
/>
<Row>
  <Col>
  Used to get the WebApp settings of the application.
  ### –û—Ç–≤–µ—Ç
  - `title` (string) WebApp name
  - `icon_type` (string) Icon type, `emoji` - emoji, `image` - picture
  - `icon` (string) Icon. If it's `emoji` type, it's an emoji symbol; if it's `image` type, it's an image URL.
  - `icon_background` (string) Background color in hex format
  - `icon_url` (string) Icon URL
  - `description` (string) Description
  - `copyright` (string) Copyright information
  - `privacy_policy` (string) Privacy policy link
  - `custom_disclaimer` (string) Custom disclaimer
  - `default_language` (string) Default language
  - `show_workflow_steps` (bool) Whether to show workflow details
  </Col>
  <Col>
  <CodeGroup title="Request" tag="POST" label="/meta" targetCode={`curl -X GET '${props.appDetail.api_base_url}/site' \\\n-H 'Authorization: Bearer {api_key}'`}>
    ```bash {{ title: 'cURL' }}
    curl -X GET '${props.appDetail.api_base_url}/site' \
    -H 'Authorization: Bearer {api_key}'
    ```

    </CodeGroup>

    <CodeGroup title="–û—Ç–≤–µ—Ç">
    ```json {{ title: 'Response' }}
    {
      "title": "My App",
      "icon_type": "emoji",
      "icon": "üòÑ",
      "icon_background": "#FFEAD5",
      "icon_url": null,
      "description": "This is my app.",
      "copyright": "all rights reserved",
      "privacy_policy": "",
      "custom_disclaimer": "All generated by AI",
      "default_language": "en-US",
      "show_workflow_steps": false,
    }
    ```
    </CodeGroup>
  </Col>
</Row>
___
